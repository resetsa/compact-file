# Скрипты сжатия PDF/JPG

В процессе разработки.

## TODO

- [ ] Автотесты?

## Используемые модули

- GhostScript (<https://www.ghostscript.com/releases/gsdnld.html>)
- ImageMagick (<https://imagemagick.org/script/download.php>)

## Краткое описание

Работает на Windows с ФС NTFS.

Для работы использует утилиты GhostScript/ImageMagick.

Используется паралльное выполнения.

Для хранения информации о параметрах исходного файла использует NTFS stream.

Дополнительно, ограничивается примерное время исполнения скрипта
(ожидается окончание всех запущенных заданий, а это может занимать много времени)

При обработке PDF файлов может создать высокую нагрузку на CPU, логично статвить maxProcess = кол-ву CPU

Описание параметров в Get-Help

## Описание

В комплекте скрипты:

0. core.ps1/job.ps1 - корневой модуль/модуль инициализации job.
1. compress-ap_jpg.ps1 - скрипт для сжатия JPEG.
2. compress-ap_pdf.ps1 - скрипт для сжатия PDF.
3. compress-dirs.ps1 - скрипт для сжатия множества директорий + PDF/JPG.
4. config.json - пример файла конфигурация для compress-dirs.ps1.

## Пример запуска в самих скриптах